<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../template/defaultTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <div class="layout-content">

            <h2>Pre-Built Computer Set Model Management</h2>

            <h:form>
                <h:panelGrid columns="2" style="margin-bottom:5px" cellpadding="3">
                    <p:outputLabel value="Select a Tier:" style="font-size: 16px; font-weight: bold"/>
                    <p:selectOneMenu id="tier" value="#{preBuiltComputerSetManagementManagedBean.currentTierString}" style="width:155px">
                        <p:ajax event="change" update="formModel"
                                listener="#{preBuiltComputerSetManagementManagedBean.subjectSelectionChanged}" />

                        <f:selectItem itemLabel="Select One" itemValue="" />
                        <f:selectItem itemLabel="Premium" itemValue="PREMIUM" />
                        <f:selectItem itemLabel="Regular" itemValue="REGULAR" />
                        <f:selectItem itemLabel="Budget" itemValue="BUDGET" />
                    </p:selectOneMenu>
                </h:panelGrid>
            </h:form>

            <div class="layout-subcontent">

                <h:form id="formModel">
                    <p:messages id="messages" redisplay="false" closable="true" globalOnly="true" />
                    <h:panelGrid style="text-align: center" rendered="#{(preBuiltComputerSetManagementManagedBean.currentTierString eq 'PREMIUM') or (preBuiltComputerSetManagementManagedBean.currentTierString eq 'REGULAR') or (preBuiltComputerSetManagementManagedBean.currentTierString eq 'BUDGET')}">
                        <p:outputPanel style="text-align: center">
                            <h:panelGrid columns="3" cellpadding="5" style="align-content: center">

                                    <h:outputText value="#{preBuiltComputerSetManagementManagedBean.currentModel.preBuiltComputerSetTier} Tier" style="font-size: 30px; font-weight: bold"/>
                                    <h:outputText/>
                                    <h:outputText/>
                                <h:outputLabel for="currentCpu" value="CPU:" />
                                <p:selectOneMenu id="currentCpu" value="#{preBuiltComputerSetManagementManagedBean.currentCpu}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.cpus}" var="cpu" itemValue="#{cpu.name}" itemLabel="#{cpu.name}"/>
                                </p:selectOneMenu>
                                <p:message id="cpuMessage" for="currentCpu"/>
                                
                                <h:outputLabel for="currentMotherboard" value="Motherboard:" />
                                <p:selectOneMenu id="currentMotherboard" value="#{preBuiltComputerSetManagementManagedBean.currentMotherboard}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.motherboards}" var="motherboard" itemValue="#{motherboard.name}" itemLabel="#{motherboard.name}"/>
                                </p:selectOneMenu>
                                <p:message id="motherboardMessage" for="currentMotherboard"/>

                                <h:outputLabel for="currentPsu" value="Power Supply:" />
                                <p:selectOneMenu id="currentPsu" value="#{preBuiltComputerSetManagementManagedBean.currentPsu}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.psus}" var="psu" itemValue="#{psu.name}" itemLabel="#{psu.name}"/>
                                </p:selectOneMenu>
                                <p:message id="psuMessage" for="currentPsu"/>

                                <h:outputLabel for="currentCompCase" value="Computer Case:" />
                                <p:selectOneMenu id="currentCompCase" value="#{preBuiltComputerSetManagementManagedBean.currentCompCase}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.compCases}" var="compCase" itemValue="#{compCase.name}" itemLabel="#{compCase.name}"/>
                                </p:selectOneMenu>
                                <p:message id="computerCaseMessage" for="currentCompCase"/>

                                <h:outputLabel for="currentWaterCooler" value="Water Cooler:" />
                                <p:selectOneMenu id="currentWaterCooler" value="#{preBuiltComputerSetManagementManagedBean.currentWaterCooler}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.waterCoolers}" var="waterCooler" itemValue="#{waterCooler.name}" itemLabel="#{waterCooler.name}"/>
                                </p:selectOneMenu>
                                <p:message id="waterCoolerMessage" for="currentWaterCooler"/>

                                <h:outputLabel for="currentAirCooler" value="Air Cooler:" />
                                <p:selectOneMenu id="currentAirCooler" value="#{preBuiltComputerSetManagementManagedBean.currentAirCooler}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.airCoolers}" var="airCooler" itemValue="#{airCooler.name}" itemLabel="#{airCooler.name}"/>
                                </p:selectOneMenu>
                                <p:message id="airCoolerMessage" for="currentAirCooler"/>

                                <h:outputLabel for="rams" value="Ram (select multiple):" />
                                <p:selectCheckboxMenu id="rams" value="#{preBuiltComputerSetManagementManagedBean.currentRams}" label="Select RAMs" multiple="true" panelStyle="width:200px">
                                    <p:ajax event="change" listener="#{preBuiltComputerSetManagementManagedBean.setAjaxTestMulti}" />
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.rams}" var="ram" itemValue="#{ram.productId}" itemLabel="#{ram.name}"/>
                                </p:selectCheckboxMenu>
                                <p:message id="ramsMessage" for="rams"/>

                                <h:outputLabel for="gpus" value="GPU (select multiple):" />
                                <p:selectCheckboxMenu id="gpus" value="#{preBuiltComputerSetManagementManagedBean.currentGpus}" label="Select GPUs" multiple="true" panelStyle="width:200px">
                                    <p:ajax event="change" listener="#{preBuiltComputerSetManagementManagedBean.setAjaxTestMulti}" />
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.gpus}" var="gpu" itemValue="#{gpu.productId}" itemLabel="#{gpu.name}"/>
                                </p:selectCheckboxMenu>
                                <p:message id="gpusMessage" for="gpus"/>

                                <h:outputLabel for="hdds" value="HDD (select multiple):" />
                                <p:selectCheckboxMenu id="hdds" value="#{preBuiltComputerSetManagementManagedBean.currentHdds}" label="Select HDDs" multiple="true" panelStyle="width:200px">
                                    <p:ajax event="change" listener="#{preBuiltComputerSetManagementManagedBean.setAjaxTestMulti}" />
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.hdds}" var="hdd" itemValue="#{hdd.productId}" itemLabel="#{hdd.name}"/>
                                </p:selectCheckboxMenu>
                                <p:message id="hddsMessage" for="hdds"/>

                                <h:outputLabel for="ssds" value="SSD (select multiple):" />
                                <p:selectCheckboxMenu id="ssds" value="#{preBuiltComputerSetManagementManagedBean.currentSsds}" label="Select SSDs" multiple="true" panelStyle="width:200px">
                                    <p:ajax event="change" listener="#{preBuiltComputerSetManagementManagedBean.setAjaxTestMulti}" />
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.ssds}" var="ssd" itemValue="#{ssd.productId}" itemLabel="#{ssd.name}"/>
                                </p:selectCheckboxMenu>
                                <p:message id="ssdsMessage" for="ssds"/>
                                
                                <h:outputLabel for="currentPrice" value="Price:" />
                                <h:outputLabel id="currentPrice" value="#{preBuiltComputerSetManagementManagedBean.currentPrice}">
                                    <f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="2" minFractionDigits="2" />
                                </h:outputLabel>

                                <p:commandButton value="Update Tier" update="formModel formModel:messages" actionListener="#{preBuiltComputerSetManagementManagedBean.updateModel}" />
                            </h:panelGrid>
                        </p:outputPanel>
                    </h:panelGrid>
                </h:form>

            </div>
        </div>
    </ui:define>

</ui:composition>
