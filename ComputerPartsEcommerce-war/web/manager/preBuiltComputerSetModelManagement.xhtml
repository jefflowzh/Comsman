<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../template/defaultTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <div class="layout-content">

            <h2>Pre-Built Computer Set Model Management</h2>

            <h:form>
                <h:panelGrid columns="2" style="margin-bottom:5px" cellpadding="3">
                    <p:outputLabel value="Select a Tier:" style="font-size: 16px; font-weight: bold"/>
                    <p:selectOneMenu id="tier" value="#{preBuiltComputerSetManagementManagedBean.currentTierString}" style="width:155px">
                        <p:ajax event="change" update="formModel"
                                listener="#{preBuiltComputerSetManagementManagedBean.subjectSelectionChanged}" />

                        <f:selectItem itemLabel="Select One" itemValue="" />
                        <f:selectItem itemLabel="Premium" itemValue="PREMIUM" />
                        <f:selectItem itemLabel="Regular" itemValue="REGULAR" />
                        <f:selectItem itemLabel="Budget" itemValue="BUDGET" />
                    </p:selectOneMenu>
                </h:panelGrid>
            </h:form>

            <div class="layout-subcontent">

                <h:form id="formModel">
                    <p:growl id="growl" sticky="false" life="1000" />
                    <p:messages id="messages" redisplay="false" closable="true" />
                    <h:panelGrid style="text-align: center" rendered="#{(preBuiltComputerSetManagementManagedBean.currentTierString eq 'PREMIUM') or (preBuiltComputerSetManagementManagedBean.currentTierString eq 'REGULAR') or (preBuiltComputerSetManagementManagedBean.currentTierString eq 'BUDGET')}">
                        <p:outputPanel style="text-align: center">
                            <h:panelGrid columns="3" cellpadding="5" style="align-content: center">

                                <f:facet name="header">
                                    <h:outputText value="#{preBuiltComputerSetManagementManagedBean.currentModel.preBuiltComputerSetTier} Tier" style="font-size: 20px"/>
                                </f:facet>

                                <h:outputLabel for="currentCpu" value="CPU:" />
                                <p:selectOneMenu id="currentCpu" value="#{preBuiltComputerSetManagementManagedBean.currentCpu}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.cpus}" var="cpu" itemValue="#{cpu.name}" itemLabel="#{cpu.name}"/>
                                </p:selectOneMenu>
                                <p:message id="cpuMessage" for="currentCpu"/>

                                <h:outputLabel for="currentMotherboard" value="Motherboard:" />
                                <p:selectOneMenu id="currentMotherboard" value="#{preBuiltComputerSetManagementManagedBean.currentMotherboard}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.motherboards}" var="motherboard" itemValue="#{motherboard.name}" itemLabel="#{motherboard.name}"/>
                                </p:selectOneMenu>
                                <p:message id="motherboardMessage" for="currentMotherboard"/>

                                <h:outputLabel for="currentPsu" value="Power Supply:" />
                                <p:selectOneMenu id="currentPsu" value="#{preBuiltComputerSetManagementManagedBean.currentPsu}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.psus}" var="psu" itemValue="#{psu.name}" itemLabel="#{psu.name}"/>
                                </p:selectOneMenu>
                                <p:message id="psuMessage" for="currentPsu"/>

                                <h:outputLabel for="currentCompCase" value="Computer Case:" />
                                <p:selectOneMenu id="currentCompCase" value="#{preBuiltComputerSetManagementManagedBean.currentCompCase}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.compCases}" var="compCase" itemValue="#{compCase.name}" itemLabel="#{compCase.name}"/>
                                </p:selectOneMenu>
                                <p:message id="computerCaseMessage" for="currentCompCase"/>

                                <h:outputLabel for="currentWaterCooler" value="Water Cooler:" />
                                <p:selectOneMenu id="currentWaterCooler" value="#{preBuiltComputerSetManagementManagedBean.currentWaterCooler}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.waterCoolers}" var="waterCooler" itemValue="#{waterCooler.name}" itemLabel="#{waterCooler.name}"/>
                                </p:selectOneMenu>
                                <p:message id="waterCoolerMessage" for="currentWaterCooler"/>

                                <h:outputLabel for="currentAirCooler" value="Air Cooler:" />
                                <p:selectOneMenu id="currentAirCooler" value="#{preBuiltComputerSetManagementManagedBean.currentAirCooler}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.updateModelSinglePart(event, component)}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.airCoolers}" var="airCooler" itemValue="#{airCooler.name}" itemLabel="#{airCooler.name}"/>
                                </p:selectOneMenu>
                                <p:message id="airCoolerMessage" for="currentAirCooler"/>

                                <h:outputLabel for="rams" value="Ram: " />
                                <ui:repeat id="rams" value="#{preBuiltComputerSetManagementManagedBean.stringValuesRams}" var="stringValueRam">   
                                    <p:inputText value="#{stringValueRam.value}" disabled="true"/> 
                                    <p:commandButton icon="fa fa-remove" style="border:none !important; background-color:white !important; color: black;" actionListener="#{preBuiltComputerSetManagementManagedBean.removeRam(stringValueRam)}" update="formModel" />
                                    &nbsp;
                                </ui:repeat>
                                <p:message id="ramsMessage" for="rams"/>

                                <h:outputLabel for="gpus" value="GPU: " />
                                <ui:repeat id="gpus" value="#{preBuiltComputerSetManagementManagedBean.stringValuesGpus}" var="stringValueGpu">   
                                    <p:inputText value="#{stringValueGpu.value}" disabled="true"/> 
                                    <p:commandButton icon="fa fa-remove" style="border:none !important; background-color:white !important; color: black;" actionListener="#{preBuiltComputerSetManagementManagedBean.removeGpu(stringValueGpu)}" update="formModel" />
                                    &nbsp;
                                </ui:repeat>
                                <p:message id="gpusMessage" for="gpus"/>

                                <h:outputLabel for="hdds" value="HDD: " />
                                <ui:repeat id="hdds" value="#{preBuiltComputerSetManagementManagedBean.stringValuesHdds}" var="stringValueHdd">   
                                    <p:inputText value="#{stringValueHdd.value}" disabled="true"/> 
                                    <p:commandButton icon="fa fa-remove" style="border:none !important; background-color:white !important; color: black;" actionListener="#{preBuiltComputerSetManagementManagedBean.removeHdd(stringValueHdd)}" update="formModel" />
                                    &nbsp;
                                </ui:repeat>
                                <p:message id="hddsMessage" for="hdds"/>

                                <h:outputLabel for="ssds" value="SSD: " />
                                <ui:repeat id="ssds" value="#{preBuiltComputerSetManagementManagedBean.stringValuesSsds}" var="stringValueSsd">   
                                    <p:inputText value="#{stringValueSsd.value}" disabled="true"/> 
                                    <p:commandButton icon="fa fa-remove" style="border:none !important; background-color:white !important; color: black;" actionListener="#{preBuiltComputerSetManagementManagedBean.removeSsd(stringValueSsd)}" update="formModel" />
                                    &nbsp;
                                </ui:repeat>
                                <p:message id="SsdsMessage" for="ssds"/>

                                <h:outputLabel for="currentPrice" value="Price:" />
                                <h:outputLabel id="currentPrice" value="#{preBuiltComputerSetManagementManagedBean.currentPrice}"/>
                                
                                <p:row>
                                    <p:column colspan="4">
                                        <p:commandButton value="Add New Ram" oncomplete="PF('dialogAddRams').show()" />
                                        <p:commandButton value="Add New Gpu" oncomplete="PF('dialogAddGpus').show()" />
                                        <p:commandButton value="Add New Hdd" oncomplete="PF('dialogAddHdds').show()" />
                                        <p:commandButton value="Add New Ssd" oncomplete="PF('dialogAddSsds').show()" />
                                        <p:commandButton value="Update Tier" update="formModel formModel:messages" actionListener="#{preBuiltComputerSetManagementManagedBean.updateModel}" />
                                    </p:column>
                                </p:row>

                                
                            </h:panelGrid>
                        </p:outputPanel>
                    </h:panelGrid>
                </h:form>

                <h:form id="formAddRams">
                    <p:messages id="messages" redisplay="false" closable="true" />

                    <p:dialog id="dialogAddRams" widgetVar="dialogAddRams" header="Add Rams" closable="true" width="450">
                        <p:message id="addRamMessage" for="addRam"/>
                        <div align="center">
                            <h:panelGrid columns="3" cellpadding="5" style="align-content: center">
                                <h:outputLabel for="addRam" value="Add Ram:" />
                                <p:selectOneMenu id="addRam" value="#{preBuiltComputerSetManagementManagedBean.addRam}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.testAddRams}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.rams}" var="ram" itemValue="#{ram.name}" itemLabel="#{ram.name}"/>
                                </p:selectOneMenu>
                                <p:commandButton value="Add Ram" update="formModel formModel:messages" actionListener="#{preBuiltComputerSetManagementManagedBean.addRams}" oncomplete="PF('dialogAddRams').hide()"/>
                            </h:panelGrid>
                        </div>
                    </p:dialog>
                </h:form>

                <h:form id="formAddGpus">
                    <p:messages id="messages" redisplay="false" closable="true" />

                    <p:dialog id="dialogAddGpus" widgetVar="dialogAddGpus" header="Add Rams" closable="true" width="450">
                        <p:message id="addGpuMessage" for="addGpu"/>
                        <div align="center">
                            <h:panelGrid columns="3" cellpadding="5" style="align-content: center">
                                <h:outputLabel for="addGpu" value="Add Gpu:" />
                                <p:selectOneMenu id="addGpu" value="#{preBuiltComputerSetManagementManagedBean.addGpu}" style="width: 200px" appendTo="@this">
                                    <p:ajax event="change" update="formModel" listener="#{preBuiltComputerSetManagementManagedBean.testAddGpus}" />
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.gpus}" var="gpu" itemValue="#{gpu.name}" itemLabel="#{gpu.name}"/>
                                </p:selectOneMenu>
                                <p:commandButton value="Add Gpu" update="formModel formModel:messages" actionListener="#{preBuiltComputerSetManagementManagedBean.addGpus}" oncomplete="PF('dialogAddGpus').hide()"/>
                            </h:panelGrid>
                        </div>
                    </p:dialog>
                </h:form>

                <h:form id="formAddHdds">
                    <p:messages id="messages" redisplay="false" closable="true" />

                    <p:dialog id="dialogAddHdds" widgetVar="dialogAddHdds" header="Add Rams" closable="true" width="450">
                        <p:message id="addHddMessage" for="addHdd"/>
                        <div align="center">
                            <h:panelGrid columns="3" cellpadding="5" style="align-content: center">
                                <h:outputLabel for="addHdd" value="Add Hdd:" />
                                <p:selectOneMenu id="addHdd" value="#{preBuiltComputerSetManagementManagedBean.addHdd}" style="width: 200px" appendTo="@this">
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.hdds}" var="hdd" itemValue="#{hdd.name}" itemLabel="#{hdd.name}"/>
                                </p:selectOneMenu>
                                <p:commandButton value="Add Hdd" update="formModel formModel:messages" actionListener="#{preBuiltComputerSetManagementManagedBean.addHdds}" oncomplete="PF('dialogAddHdds').hide()"/>
                            </h:panelGrid>
                        </div>
                    </p:dialog>
                </h:form>

                <h:form id="formAddSsds">
                    <p:messages id="messages" redisplay="false" closable="true" />

                    <p:dialog id="dialogAddSsds" widgetVar="dialogAddSsds" header="Add Ssds" closable="true" width="450">
                        <p:message id="addSsdMessage" for="addSsd"/>
                        <div align="center">
                            <h:panelGrid columns="3" cellpadding="5" style="align-content: center">
                                <h:outputLabel for="addSsd" value="Add Ssd:" />
                                <p:selectOneMenu id="addSsd" value="#{preBuiltComputerSetManagementManagedBean.addSsd}" style="width: 200px" appendTo="@this">
                                    <f:selectItem value="#{null}" itemLabel="NONE"/>
                                    <f:selectItems value="#{preBuiltComputerSetManagementManagedBean.ssds}" var="ssd" itemValue="#{ssd.name}" itemLabel="#{ssd.name}"/>
                                </p:selectOneMenu>
                                <p:commandButton value="Add Ssd" update="formModel formModel:messages" actionListener="#{preBuiltComputerSetManagementManagedBean.addSsds}" oncomplete="PF('dialogAddSsds').hide()"/>
                            </h:panelGrid>
                        </div>
                    </p:dialog>
                </h:form>

            </div>
        </div>
    </ui:define>

</ui:composition>
